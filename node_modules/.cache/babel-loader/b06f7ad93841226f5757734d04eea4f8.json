{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\vmt907\\\\Documents\\\\ecommercefinal-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\vmt907\\\\Documents\\\\ecommercefinal-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\Users\\\\vmt907\\\\Documents\\\\ecommercefinal-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\vmt907\\\\Documents\\\\ecommercefinal-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\vmt907\\\\Documents\\\\ecommercefinal-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\vmt907\\\\Documents\\\\ecommercefinal-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\vmt907\\\\Documents\\\\ecommercefinal-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';//import './App.css';\nimport web3 from'../src/web3';import ecommerce from'../src/ecommerce';var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);function App(props){var _this;_classCallCheck(this,App);_this=_possibleConstructorReturn(this,_getPrototypeOf(App).call(this,props));_this.onSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var accounts;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.next=3;return web3.eth.getAccounts();case 3:accounts=_context.sent;_this.setState({message:'Waiting on transaction success...'});_context.next=7;return ecommerce.methods.writeReview(_this.state.reviewText,1).send({from:accounts[0]});case 7:_this.setState({message:'Your review is submitted!',reviewText:''});case 8:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.state={manager:'',productNumber:'',reviewNumber:'',reviewText:'',message:''//                users: ''\n};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var manager,productNumber,reviewNumber;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return ecommerce.methods.manager().call();case 2:manager=_context2.sent;_context2.next=5;return ecommerce.methods.productNumber().call();case 5:productNumber=_context2.sent;_context2.next=8;return ecommerce.methods.reviewNumber().call();case 8:reviewNumber=_context2.sent;//const users = await ecommerce.methods.users().call();\nthis.setState({manager:manager,productNumber:productNumber,reviewNumber:reviewNumber});case 10:case\"end\":return _context2.stop();}}},_callee2,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var _this2=this;console.log(ecommerce);return React.createElement(\"div\",null,React.createElement(\"h2\",null,\" Blockchain-based product review Crypto-rewards platform \"),React.createElement(\"hr\",null),React.createElement(\"p\",null,\" Contract is deployed by \",this.state.manager,\" \"),React.createElement(\"hr\",null),React.createElement(\"p\",null,\" There are a total of \",this.state.reviewNumber,\" reviews available on the platform \"),React.createElement(\"hr\",null),React.createElement(\"p\",null,\" There are a total of \",this.state.productNumber,\" products for which users can write or rate reviews \"),React.createElement(\"hr\",null),React.createElement(\"form\",{onSubmit:this.onSubmit},React.createElement(\"h4\",null,\"Write Review for Product 1 \"),React.createElement(\"div\",null,React.createElement(\"label\",null,\"Enter your review text and Submit \"),React.createElement(\"input\",{type:\"text\",name:\"reviewText\"//reviewText={this.state.reviewText}\n,onChange:function onChange(event){return _this2.setState({reviewText:event.target.value});}})),React.createElement(\"button\",null,\"Enter\")),React.createElement(\"h1\",null,this.state.message));}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["C:/Users/vmt907/Documents/ecommercefinal-react/src/App.js"],"names":["React","Component","web3","ecommerce","App","props","onSubmit","event","preventDefault","eth","getAccounts","accounts","setState","message","methods","writeReview","state","reviewText","send","from","manager","productNumber","reviewNumber","call","console","log","target","value"],"mappings":"6sCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA;AACA,MAAOC,CAAAA,IAAP,KAAiB,aAAjB,CACA,MAAOC,CAAAA,SAAP,KAAsB,kBAAtB,C,GAEMC,CAAAA,G,6DAEJ,aAAYC,KAAZ,CAAmB,qCACjB,qEAAMA,KAAN,GADiB,MAqBnBC,QArBmB,0FAqBR,iBAAMC,KAAN,+HACTA,KAAK,CAACC,cAAN,GADS,sBAGcN,CAAAA,IAAI,CAACO,GAAL,CAASC,WAAT,EAHd,QAGHC,QAHG,eAKT,MAAKC,QAAL,CAAc,CAAEC,OAAO,CAAE,mCAAX,CAAd,EALS,sBAOHV,CAAAA,SAAS,CAACW,OAAV,CAAkBC,WAAlB,CAA8B,MAAKC,KAAL,CAAWC,UAAzC,CAAqD,CAArD,EAAwDC,IAAxD,CAA6D,CACjEC,IAAI,CAAER,QAAQ,CAAC,CAAD,CADmD,CAA7D,CAPG,QAWT,MAAKC,QAAL,CAAc,CAAEC,OAAO,CAAE,2BAAX,CACEI,UAAU,CAAE,EADd,CAAd,EAXS,sDArBQ,+DAGjB,MAAKD,KAAL,CAAa,CAACI,OAAO,CAAE,EAAV,CACDC,aAAa,CAAE,EADd,CAEDC,YAAY,CAAE,EAFb,CAGDL,UAAU,CAAE,EAHX,CAIDJ,OAAO,CAAE,EACzB;AALiB,CAAb,CAHiB,aAUlB,C,iVAEuBV,CAAAA,SAAS,CAACW,OAAV,CAAkBM,OAAlB,GAA4BG,IAA5B,E,QAAhBH,O,uCACsBjB,CAAAA,SAAS,CAACW,OAAV,CAAkBO,aAAlB,GAAkCE,IAAlC,E,QAAtBF,a,uCACqBlB,CAAAA,SAAS,CAACW,OAAV,CAAkBQ,YAAlB,GAAiCC,IAAjC,E,QAArBD,Y,gBACN;AAEA,KAAKV,QAAL,CAAc,CAAEQ,OAAO,CAAPA,OAAF,CAAWC,aAAa,CAAbA,aAAX,CAA0BC,YAAY,CAAZA,YAA1B,CAAd,E,kNAmBQ,iBACRE,OAAO,CAACC,GAAR,CAAYtB,SAAZ,EAEA,MACE,gCACE,0FADF,CAEE,8BAFF,CAGE,yDAA6B,KAAKa,KAAL,CAAWI,OAAxC,KAHF,CAIE,8BAJF,CAKE,sDAA0B,KAAKJ,KAAL,CAAWM,YAArC,uCALF,CAME,8BANF,CAOE,sDAA0B,KAAKN,KAAL,CAAWK,aAArC,wDAPF,CAQE,8BARF,CASE,4BAAM,QAAQ,CAAE,KAAKf,QAArB,EACE,4DADF,CAEE,+BACE,sEADF,CAEE,6BAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,YACtB;AADF,CAEE,QAAQ,CAAE,kBAAAC,KAAK,QAAI,CAAA,MAAI,CAACK,QAAL,CAAc,CAAEK,UAAU,CAAEV,KAAK,CAACmB,MAAN,CAAaC,KAA3B,CAAd,CAAJ,EAFjB,EAFF,CAFF,CASE,0CATF,CATF,CAoBA,8BAAK,KAAKX,KAAL,CAAWH,OAAhB,CApBA,CADF,CAwBD,C,iBAjEeZ,S,EAoElB,cAAeG,CAAAA,GAAf","sourcesContent":["import React, { Component } from 'react';\n//import './App.css';\nimport web3 from '../src/web3';\nimport ecommerce from '../src/ecommerce';\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {manager: '',\n                productNumber: '',\n                reviewNumber: '',\n                reviewText: '',\n                message: ''\n//                users: ''\n                };\n  }\n  async componentDidMount(){\n    const manager = await ecommerce.methods.manager().call();\n    const productNumber = await ecommerce.methods.productNumber().call();\n    const reviewNumber = await ecommerce.methods.reviewNumber().call();\n    //const users = await ecommerce.methods.users().call();\n\n    this.setState({ manager, productNumber, reviewNumber});\n\n  }\n\n  onSubmit = async event => {\n    event.preventDefault();\n\n    const accounts = await web3.eth.getAccounts();\n\n    this.setState({ message: 'Waiting on transaction success...' });\n\n    await ecommerce.methods.writeReview(this.state.reviewText, 1).send({\n      from: accounts[0]\n    });\n\n    this.setState({ message: 'Your review is submitted!', \n                    reviewText: '' });\n  };\n\n  render () { \n    console.log(ecommerce);\n    \n    return (\n      <div>\n        <h2> Blockchain-based product review Crypto-rewards platform </h2>\n        <hr/>\n        <p> Contract is deployed by {this.state.manager} </p>\n        <hr/>\n        <p> There are a total of {this.state.reviewNumber} reviews available on the platform </p>\n        <hr/>\n        <p> There are a total of {this.state.productNumber} products for which users can write or rate reviews </p>\n        <hr/>\n        <form onSubmit={this.onSubmit}>\n          <h4>Write Review for Product 1 </h4>\n          <div>\n            <label>Enter your review text and Submit </label>\n            <input type='text' name='reviewText'\n              //reviewText={this.state.reviewText}\n              onChange={event => this.setState({ reviewText: event.target.value })}\n            />\n          </div>\n          <button>Enter</button>\n      </form>\n      <h1>{this.state.message}</h1>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}